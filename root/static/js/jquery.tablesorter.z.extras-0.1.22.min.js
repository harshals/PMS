$.tablesorter.addWidget({id:'select',init:function(a){a.config.select=$.extend({},this.defaults,a.config.select);var c=$('tbody tr',a);$(c).unbind('mousedown.tablesorter.select').bind('mousedown.tablesorter.select',{table:a},$.proxy(this,'onClick'));$(a).unbind('update.tablesorter.select').bind('update.tablesorter.select',$.proxy(this,'update'));if($.browser.msie){$(c).unbind('selectstart.tablesorter.select').bind('selectstart.tablesorter.select',function(){return false})}},onClick:function(f){var b=$(f.data.table)[0];var e=$(f.currentTarget)[0];var h=false;var d=$('tbody tr',b);if(f.which==1){if(!f.ctrlKey){$(e).siblings('.selected').removeClass('selected');if(f.shiftKey){h=true;var g=$(d).index($(e));var i,j;if(b.config.select.prevId<g){i=b.config.select.prevId;j=g+1}else{i=g;j=b.config.select.prevId+1}e=$(d).slice(i,j)}}$(e).toggleClass('selected')}else{if(!$(e).hasClass('selected')){$(e).siblings('.selected').removeClass('selected');$(e).addClass('selected')}}if(!h)b.config.select.prevId=$(d).index($(e));$(b).trigger('select.tablesorter.select',[{table:$(b),selected:$('tbody tr.selected',b),elem:e}]);b.config.select.selection=$.map($('tbody tr.selected',b),function(a,c){return $($('input',a)[0]).val()})},update:function(f){var b=f.target;var e=$.map($('tbody tr',b),function(a,c){return $.inArray($($('input',a)[0]).val(),b.config.select.selection)<0?null:a});$(e).addClass('selected')},format:function(a){this.init(a)}});$.expr[':'].icontains=function(a,c,f,b){return(a.textContent||a.innerText||jQuery(a).text()||'').toLowerCase().indexOf(f[3].toLowerCase())>=0};$.tablesorter.addWidget({id:'filter',defaults:{title:'Search...',container:false},init:function(c){var f=this;c.config.filter=$.extend({},this.defaults,c.config.filter);var b=c.config.filter.title;var e=$(c).attr('id');var h='tsFilter_'+e;var d=[];d.push('<input class="tablesorter tsFilter');if(b)d.push(' empty');d.push('"');d.push(' id="'+h+'"');d.push(' type="text"');d.push(' name="'+e+'"');if(b){d.push(' value="'+b+'"');d.push(' title="'+b+'"')}d.push(' />');var g=$('input#'+h);if($(g).length==0){if(c.config.filter.container)$(c.config.filter.container).html(d.join(''));else $(c).before(d.join(''))}var g=$('input#'+h);if(b){$(g).unbind('focusout.tablesorter.filter').unbind('focusin.tablesorter.filter').bind('focusout.tablesorter.filter',function(a){if($(this).val()==''){$(this).addClass('empty');$(this).val(b)}}).bind('focusin.tablesorter.filter',function(a){if($(this).hasClass('empty')){$(this).removeClass('empty');$(this).val('')}})}$(g).unbind('keyup.tablesorter.filter').bind('keyup.tablesorter.filter',function(a){if(!$(this).hasClass('empty'))f.filter(c,$(this).val())});$(c).unbind('update.tablesorter.filter').bind('update.tablesorter.filter',function(a){if(!$(g).hasClass('empty'))f.filter(c,$(g).val())})},filter:function(a,c){$('tbody tr:hidden',a).show();$('tbody tr:not(:icontains("'+c+'"))',a).hide()},format:function(a){this.init(a)}});

