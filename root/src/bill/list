<style>
	tr.selected 
	{
		border: 2px solid ;
	}
</style>

[% INCLUDE pager_head %]
<table summary="This table includes examples of as many table elements as possible">
	<caption><b>List of Bills </b></caption>
	<colgroup>
		<col class="colA" />
		<col class="colB" />
		<col class="colC" />
		<col class="colD" />
		<col class="colE" />
	</colgroup>
	<thead>
		<tr>
			<th colspan="5" class="table-head"></th>
		</tr>
		<tr>
			<th class="grid_3"> Account </th>
			<th class="grid_3"> Bill No. </th>
			<th class="grid_3"> Bill Date </th>
			<th class="grid_3"> Brokerage </th>
			<th class="grid_3"> Amount </th>
		</tr>
	</thead>
	[% total_brokerage = 0 %]
	[% final_total = 0 %]
	<tbody>
		[% FOREACH row IN bill_rs.serialize(4) %]
			[% USE date %]
			[% manip = date.manip %]
			[% bill_date = manip.UnixDate(manip.ParseDate(row.bill_date),'%d-%m-%Y') %]
			<tr>
				<td class=" grid_3" >[%row.customer.name%]</td>
				<td class=" grid_3"><a href="[% c.uri_for(/bill/get/$row.id) %]">[%row.bill_no%]</a></td>
				<td class=" grid_3">[%bill_date%]</td>
				<td class=" grid_3">[%row.transactions.brokerage%]</td>
				<td class=" grid_3">[% row.total]</td>
			</tr>
			[% total_brokerage = total_brokerage + row.transactions.brokerage %]
			[% final_total = final_total + row.total %]
		[% END %]
	</tbody>
	<tfoot>
		<tr class="total">
			<th>Total</th>
			<td></td>
			<td></td>
			<th class="currency">[% total_brokerage %]</th>
			<th class="currency">[% final_total %]</th>
		</tr>
	</tfoot>
</table>

